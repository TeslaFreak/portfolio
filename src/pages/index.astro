---
import HomeLayout from "../layouts/HomeLayout.astro";
import { Cube } from "../components/Cube";
import MormalImageSlider from "../components/MormalImageSlider.jsx";
import { BackgroundFadeTrigger } from "../components/BackgroundFadeTrigger.jsx";
import { slide } from "astro:transitions";
---

<HomeLayout>
  <div id="works" class="spin-track" transition:animate={slide()}>
    <div class="works-container">
      <Cube client:only />
    </div>
  </div>
  <div id="clients" transition:animate={slide()} class="clients-container">
    <BackgroundFadeTrigger parentClassName="clients-container" client:load />
    <MormalImageSlider client:only />
  </div>
</HomeLayout>

<style>
  .spin-track {
    height: 300vh;
  }
  .works-container {
    height: 100vh;
    perspective: 140rem;
    position: sticky;
    top: 0;
  }
  .clients-container {
    position: relative;
    height: 100vh;
    max-width: 100vw;
    overflow: hidden;
  }
</style>
